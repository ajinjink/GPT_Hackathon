from dotenv import load_dotenv
import os

load_dotenv()

from langchain.memory import ConversationBufferMemory

memory = ConversationBufferMemory()
memory.save_context(
    inputs={
        "human1": "안녕하세요, [이름] 학생. 지난 [프로젝트/발표]에서 보여준 성과에 대해 칭찬하고 싶어 메일을 드립니다. 특히 [특정 내용]이 매우 인상 깊었습니다. 이와 관련해 더 깊이 논의하거나 발전시킬 계획이 있는지 궁금하네요. 혹시 시간을 내어 제 연구실로 방문해 주실 수 있나요? 좀 더 이야기를 나눌 수 있으면 좋겠습니다. 좋은 하루 보내세요. [교수님 이름] 드림"
    },
    outputs={
        "human2": "안녕하세요, 교수님. 칭찬해 주셔서 정말 감사드립니다. 프로젝트를 준비하며 부족한 점도 느꼈는데, 교수님께 좋은 평가를 받아서 정말 기쁩니다. 말씀하신 것처럼, 관련 주제를 더 발전시켜 보고 싶습니다. 교수님 연구실 방문은 [가능한 날짜와 시간]에 맞춰 가겠습니다. 그때 더 자세히 논의할 수 있기를 바랍니다. 감사합니다. [이름] 드림"
    },
)

memory.load_memory_variables({})

memory = ConversationBufferMemory(return_messages=True)

memory.save_context(
    inputs={
        "human1": "안녕하세요, [이름] 학생. 이번에 제출한 [과제명] 과제를 검토하면서 몇 가지 흥미로운 점이 눈에 띄었습니다. 특히 [특정 부분]에 대해 어떤 접근 방식을 사용했는지 궁금하네요. 시간을 내어 간단히 설명해 주실 수 있을까요? 메일로 답변 주셔도 좋고, 필요하다면 연구실에서 짧게 대화해도 괜찮습니다. 좋은 하루 되세요. [교수님 이름] 드림"},
    outputs={
        "human2": "안녕하세요, 교수님. 메일 주셔서 감사합니다. 해당 부분은 [사용한 방법 또는 접근 방식]을 활용했습니다. 관련 자료를 추가로 정리해서 첨부하거나, 교수님 연구실에서 직접 설명드릴 기회를 갖는 것도 좋을 것 같습니다. 편하신 시간을 알려 주시면 그에 맞춰 찾아뵙겠습니다. 감사합니다. [이름] 드림"
    },
)

memory.save_context(
    inputs={"human1": "안녕하세요, [이름] 학생. 이번 학기 동안 [수업명]에서 보여준 성과가 매우 뛰어나서, 혹시 [장학금/프로그램/대학원]에 지원할 계획이 있다면 추천서를 써 드리고 싶어 이렇게 메일을 드립니다. 지원 계획이 있다면 편히 말씀해 주세요. 추천서를 통해 학생의 성과를 잘 전달할 수 있도록 도와드리고 싶습니다. 좋은 하루 보내세요. [교수님 이름] 드림"},
    outputs={
        "human2": "안녕하세요, 교수님. 추천서를 먼저 제안해 주셔서 정말 감사드립니다. 사실 [프로그램/대학원명]에 지원을 고민하고 있었는데, 교수님께서 추천해 주신다면 정말 큰 힘이 될 것 같습니다. 지원 서류와 필요한 정보를 정리해서 곧 메일로 보내드리겠습니다. 추가로 필요한 내용이 있다면 언제든 말씀해 주세요. 다시 한 번 감사드립니다. [이름] 드림"
    },
)

memory.save_context(
    inputs={"human1": "안녕하세요, [이름] 학생. 최근 수업 중 몇 가지 우려되는 점이 있어 메일을 드립니다. 특히 지각, 과제 미제출, 수업 중 산만한 행동 등과 관련해 학생의 학업 성과와 수업 분위기에 영향을 미칠 수 있는 부분을 언급하고 싶습니다. 개선 방안을 논의하기 위해 제 연구실로 방문하거나, 답장을 통해 의견을 주시면 좋겠습니다. 좋은 하루 보내세요. [교수님 이름] 드림"},
    outputs={
        "human2": "안녕하세요, 교수님. 메일 주셔서 감사합니다. 지적해 주신 내용에 대해 깊이 반성하고 있습니다. 앞으로는 지각하지 않도록 더 일찍 준비하고, 과제를 제때 제출할 것을 약속드리며, 수업에 더 적극적으로 참여하도록 하겠습니다. 방문이 필요하다면 가능한 시간에 찾아뵙겠습니다. 불편을 드려 죄송하며, 기회를 주셔서 감사합니다."
    },
)

# history에 저장된 대화 기록을 확인합니다.
memory.load_memory_variables({})["history"]